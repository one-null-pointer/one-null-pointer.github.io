

<!DOCTYPE html>
<html lang="en" data-default-color-scheme=auto>



<head>
  <meta charset="UTF-8">
  <link rel="apple-touch-icon" sizes="76x76" href="/img/fluid.png">
  <link rel="icon" href="/img/fluid.png">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, shrink-to-fit=no">
  <meta http-equiv="x-ua-compatible" content="ie=edge">
  
  <meta name="theme-color" content="#2f4154">
  <meta name="author" content="liaoyue">
  <meta name="keywords" content="">
  
    <meta name="description" content="Bash脚本编写0.前言&amp;emsp;&amp;emsp;前篇基本完成了linux配置安全和优化的学习，接下来就是对于shell的学习和知识体系架构建设，今天的目标是将学习完bash脚本环境基础中的vi的使用，语法，执行方式，进行梳理，再加上变量、参数和基础函数等相关内容，话不多说，继续开整！ &amp;emsp; 1.vi的使用&amp;emsp;&amp;emsp;对于vi的使用不算太多，大部分时间都是使用的vim命令进行文本">
<meta property="og:type" content="article">
<meta property="og:title" content="Bash脚本编写">
<meta property="og:url" content="https://one-null-pointer.github.io/2023/07/07/Linux%E8%BF%90%E7%BB%B4%E2%80%94%E2%80%94ash/index.html">
<meta property="og:site_name" content="one-null-poniter">
<meta property="og:description" content="Bash脚本编写0.前言&amp;emsp;&amp;emsp;前篇基本完成了linux配置安全和优化的学习，接下来就是对于shell的学习和知识体系架构建设，今天的目标是将学习完bash脚本环境基础中的vi的使用，语法，执行方式，进行梳理，再加上变量、参数和基础函数等相关内容，话不多说，继续开整！ &amp;emsp; 1.vi的使用&amp;emsp;&amp;emsp;对于vi的使用不算太多，大部分时间都是使用的vim命令进行文本">
<meta property="og:locale" content="en_US">
<meta property="og:image" content="https://one-null-pointer.github.io/img/Linux.png">
<meta property="article:published_time" content="2023-07-07T06:59:41.000Z">
<meta property="article:modified_time" content="2023-08-08T15:23:28.403Z">
<meta property="article:author" content="liaoyue">
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:image" content="https://one-null-pointer.github.io/img/Linux.png">
  
  
  
  <title>Bash脚本编写 - one-null-poniter</title>

  <link  rel="stylesheet" href="https://lib.baomitu.com/twitter-bootstrap/4.6.1/css/bootstrap.min.css" />



  <link  rel="stylesheet" href="https://lib.baomitu.com/github-markdown-css/4.0.0/github-markdown.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/hint.css/2.7.0/hint.min.css" />

  <link  rel="stylesheet" href="https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css" />



<!-- 主题依赖的图标库，不要自行修改 -->
<!-- Do not modify the link that theme dependent icons -->

<link rel="stylesheet" href="//at.alicdn.com/t/font_1749284_hj8rtnfg7um.css">



<link rel="stylesheet" href="//at.alicdn.com/t/font_1736178_lbnruvf0jn.css">


<link  rel="stylesheet" href="/css/main.css" />


  <link id="highlight-css" rel="stylesheet" href="/css/highlight.css" />
  
    <link id="highlight-css-dark" rel="stylesheet" href="/css/highlight-dark.css" />
  




  <script id="fluid-configs">
    var Fluid = window.Fluid || {};
    Fluid.ctx = Object.assign({}, Fluid.ctx)
    var CONFIG = {"hostname":"one-null-pointer.github.io","root":"/","version":"1.9.2","typing":{"enable":true,"typeSpeed":70,"cursorChar":"_","loop":false,"scope":[]},"anchorjs":{"enable":true,"element":"h1,h2,h3,h4,h5,h6","placement":"left","visible":"hover","icon":""},"progressbar":{"enable":true,"height_px":3,"color":"#29d","options":{"showSpinner":false,"trickleSpeed":100}},"code_language":{"enable":true,"default":"TEXT"},"copy_btn":true,"image_caption":{"enable":true},"image_zoom":{"enable":true,"img_url_replace":["",""]},"toc":{"enable":true,"placement":"right","headingSelector":"h1,h2,h3,h4,h5,h6","collapseDepth":0},"lazyload":{"enable":true,"loading_img":"/img/loading.gif","onlypost":false,"offset_factor":2},"web_analytics":{"enable":false,"follow_dnt":true,"baidu":null,"google":null,"gtag":null,"tencent":{"sid":null,"cid":null},"woyaola":null,"cnzz":null,"leancloud":{"app_id":null,"app_key":null,"server_url":null,"path":"window.location.pathname","ignore_local":false}},"search_path":"/local-search.xml"};

    if (CONFIG.web_analytics.follow_dnt) {
      var dntVal = navigator.doNotTrack || window.doNotTrack || navigator.msDoNotTrack;
      Fluid.ctx.dnt = dntVal && (dntVal.startsWith('1') || dntVal.startsWith('yes') || dntVal.startsWith('on'));
    }
  </script>
  <script  src="/js/utils.js" ></script>
  <script  src="/js/color-schema.js" ></script>
  


  
<meta name="generator" content="Hexo 5.4.2"></head>


<body>
  

  <header>
    

<div class="header-inner" style="height: 70vh;">
  <nav id="navbar" class="navbar fixed-top  navbar-expand-lg navbar-dark scrolling-navbar">
  <div class="container">
    <a class="navbar-brand" href="/">
      <strong>one null pointer</strong>
    </a>

    <button id="navbar-toggler-btn" class="navbar-toggler" type="button" data-toggle="collapse"
            data-target="#navbarSupportedContent"
            aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
      <div class="animated-icon"><span></span><span></span><span></span></div>
    </button>

    <!-- Collapsible content -->
    <div class="collapse navbar-collapse" id="navbarSupportedContent">
      <ul class="navbar-nav ml-auto text-center">
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/about/">
                <i class="iconfont icon-user-fill"></i>
                吾
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/archives/">
                <i class="iconfont icon-archive-fill"></i>
                學
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/categories/">
                <i class="iconfont icon-category-fill"></i>
                類
              </a>
            </li>
          
        
          
          
          
          
            <li class="nav-item">
              <a class="nav-link" href="/links/">
                <i class="iconfont icon-link-fill"></i>
                友
              </a>
            </li>
          
        
        
          <li class="nav-item" id="search-btn">
            <a class="nav-link" target="_self" href="javascript:;" data-toggle="modal" data-target="#modalSearch" aria-label="Search">
              &nbsp;<i class="iconfont icon-search"></i>&nbsp;
            </a>
          </li>
          
        
        
          <li class="nav-item" id="color-toggle-btn">
            <a class="nav-link" target="_self" href="javascript:;" aria-label="Color Toggle">&nbsp;<i
                class="iconfont icon-dark" id="color-toggle-icon"></i>&nbsp;</a>
          </li>
        
      </ul>
    </div>
  </div>
</nav>

  

<div id="banner" class="banner" parallax=true
     style="background: url('/img/default.png') no-repeat center center; background-size: cover;">
  <div class="full-bg-img">
    <div class="mask flex-center" style="background-color: rgba(0, 0, 0, 0.3)">
      <div class="banner-text text-center fade-in-up">
        <div class="h2">
          
            <span id="subtitle" data-typed-text="Bash脚本编写"></span>
          
        </div>

        
          
  <div class="mt-3">
    
    
      <span class="post-meta">
        <i class="iconfont icon-date-fill" aria-hidden="true"></i>
        <time datetime="2023-07-07 14:59" pubdate>
          July 7, 2023 pm
        </time>
      </span>
    
  </div>

  <div class="mt-1">
    
      <span class="post-meta mr-2">
        <i class="iconfont icon-chart"></i>
        
          9.6k words
        
      </span>
    

    
      <span class="post-meta mr-2">
        <i class="iconfont icon-clock-fill"></i>
        
        
        
          81 mins
        
      </span>
    

    
    
  </div>


        
      </div>

      
    </div>
  </div>
</div>

</div>

  </header>

  <main>
    
      

<div class="container-fluid nopadding-x">
  <div class="row nomargin-x">
    <div class="side-col d-none d-lg-block col-lg-2">
      

    </div>

    <div class="col-lg-8 nopadding-x-md">
      <div class="container nopadding-x-md" id="board-ctn">
        <div id="board">
          <article class="post-content mx-auto">
            <!-- SEO header -->
            <h1 style="display: none">Bash脚本编写</h1>
            
            
              <div class="markdown-body">
                
                <h1 id="Bash脚本编写"><a href="#Bash脚本编写" class="headerlink" title="Bash脚本编写"></a>Bash脚本编写</h1><h4 id="0-前言"><a href="#0-前言" class="headerlink" title="0.前言"></a>0.前言</h4><p>&emsp;&emsp;前篇基本完成了linux配置安全和优化的学习，接下来就是对于shell的学习和知识体系架构建设，今天的目标是将学习完bash脚本环境基础中的vi的使用，语法，执行方式，进行梳理，再加上变量、参数和基础函数等相关内容，话不多说，继续开整！</p>
<p>&emsp;</p>
<h4 id="1-vi的使用"><a href="#1-vi的使用" class="headerlink" title="1.vi的使用"></a>1.vi的使用</h4><p>&emsp;&emsp;对于vi的使用不算太多，大部分时间都是使用的vim命令进行文本操作，两者都是常用的温变编辑器，vi是老式版本，而vim是vi的改进版本。因此，Vim催逼与vi具有更多的功能和扩展性，它支持许多vi所没有的功能，语法高亮、代码折叠和多级撤销等，除此以外，vim还提供了丰富的插件系统，可以工具用户的需求进行定制和扩展</p>
<center><img src="/img/Linux运维——bash/1.png" srcset="/img/loading.gif" lazyload style="zoom:80%;" />
</center>

<ul>
<li><h5 id="vim的启动"><a href="#vim的启动" class="headerlink" title="vim的启动"></a>vim的启动</h5></li>
</ul>
<p>&emsp;&emsp;一般而言，我们在使用vim命令执行一个文件时，如果文件已经存在，vim命令就会打开现存的文件，如果是不存在的文件，vim会创建，这里就不进行过多阐述，之前的linux命令中有相关的内容</p>
<ul>
<li><h5 id="vim的退出"><a href="#vim的退出" class="headerlink" title="vim的退出"></a>vim的退出</h5></li>
</ul>
<p>&emsp;&emsp;在文件编辑中需要按下esc按钮退出表示退出插入模式，输入：</p>
<figure class="highlight elixir"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs elixir"><span class="hljs-symbol">:w</span>                  保存<br><span class="hljs-symbol">:w</span> filename         另存为filename<br><span class="hljs-symbol">:wq!</span>                保存并退出<br><span class="hljs-symbol">:wq!</span> filename       以filename为文件名保存后退出<br><span class="hljs-symbol">:q!</span>                 不保存退出<br><span class="hljs-symbol">:x</span>                  保存并退出，功能和<span class="hljs-symbol">:wq!</span>相同<br></code></pre></td></tr></table></figure>

<ul>
<li><h5 id="vim的工作模式"><a href="#vim的工作模式" class="headerlink" title="vim的工作模式"></a>vim的工作模式</h5></li>
</ul>
<p>&emsp;&emsp;vi和vim一样都是有着两种比较常见的工作模式，分别为插入模式和末行模式</p>
<p>&emsp;&emsp;插入模式：在该模式下，我们可以像普通文本编辑器一样输入和编辑文本。通过按下小写字母i、a或o键进入插入模式，分别表示在当前光标位置前插入、后插入或新建一行并插入</p>
<p>&emsp;&emsp;命令行模式：在该模式下，我们可以输入各种Ex命令，如保存文件、退出编辑器、执行外部命令等。需要通过按下冒号（:）键进入命令行模式。</p>
<center><img src="/img/Linux运维——bash/2.png" srcset="/img/loading.gif" lazyload style="zoom:80%;" />
</center>

<ul>
<li><h5 id="分屏操作"><a href="#分屏操作" class="headerlink" title="分屏操作"></a>分屏操作</h5></li>
</ul>
<p>&emsp;&emsp;VIM 可以实现分屏操作，一个屏幕被多个文件给分占，有左右和上下两种分屏的方式，其中左右分屏为：</p>
<figure class="highlight apache"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs apache"><span class="hljs-attribute">vim</span> –<span class="hljs-literal">On</span> file1 file2<br></code></pre></td></tr></table></figure>

<center><img src="/img/Linux运维——bash/3.png" srcset="/img/loading.gif" lazyload style="zoom:80%;" />
</center>

<p>&emsp;&emsp;上下分屏：</p>
<figure class="highlight nginx"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs nginx"><span class="hljs-attribute">vim</span> –<span class="hljs-literal">on</span> file1 file2<br></code></pre></td></tr></table></figure>

<center><img src="/img/Linux运维——bash/4.png" srcset="/img/loading.gif" lazyload style="zoom:80%;" />
</center>

<p>&emsp;&emsp;这里我们需要记住一个十分重要的组合键也就是ctrl加上w的组合，分屏操作的时候需要这个组合键进行文档切换</p>
<ul>
<li><h5 id="执行Linux命令"><a href="#执行Linux命令" class="headerlink" title="执行Linux命令"></a>执行Linux命令</h5></li>
</ul>
<p>&emsp;&emsp;在vim编辑器中，：后面紧跟着!,!后面紧跟着linux命令即可产生执行效果</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs applescript">:!<span class="hljs-built_in">date</span><br></code></pre></td></tr></table></figure>

<center><img src="/img/Linux运维——bash/5.png" srcset="/img/loading.gif" lazyload style="zoom:80%;" />
</center>

<ul>
<li><h5 id="vim可视化模式说"><a href="#vim可视化模式说" class="headerlink" title="vim可视化模式说"></a>vim可视化模式说</h5></li>
</ul>
<p>&emsp;&emsp;这里单独将其与其他的模式分开，是因为这个模式的可使用之处在于是否是否为纯终端模式，如果是可视化界面的系统，在有鼠标的情况下，这个模式是没什么作用的，当如果是纯终端模式，这个模式就能够代替鼠标的作用</p>
<p>&emsp;&emsp;v字符可视化，按下键盘上的v以后，屏幕底部应该会有一个 VISUAl 的提示，操作 h,j,k,l就选中文本，继续按 v 退出可视化模式。</p>
<p>&emsp;&emsp;V 行可视化，按下键盘上的 V 以后，屏幕底部应该有一个 VISUAL LINE 的提示，操作 j,k 可以向上或者向下以行为单位选中文本，操作h,l可以向左或者向右以列为单位选中文本，继续按下 V 退出可视化模式。</p>
<center><img src="/img/Linux运维——bash/6.png" srcset="/img/loading.gif" lazyload style="zoom:80%;" />
</center>

<ul>
<li><h5 id="vim代码提示"><a href="#vim代码提示" class="headerlink" title="vim代码提示"></a>vim代码提示</h5></li>
</ul>
<p>&emsp;&emsp;在编辑模式下 ，快捷键 Ctrl+n 或者 Ctrl+p 会有代码提示功能，我们可以实现快速录入的效果</p>
<center><img src="/img/Linux运维——bash/7.png" srcset="/img/loading.gif" lazyload style="zoom:80%;" />
</center>

<ul>
<li><h5 id="vim的搜索替换"><a href="#vim的搜索替换" class="headerlink" title="vim的搜索替换"></a>vim的搜索替换</h5></li>
</ul>
<p>&emsp;&emsp;当我们在文本中搜索一个字符串时，往往利用/进行搜索（最常用的）</p>
<figure class="highlight jboss-cli"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs jboss-cli"><span class="hljs-string">/OS</span><br></code></pre></td></tr></table></figure>

<p>&emsp;&emsp;/代表的是在光标之下寻找对应名称为”OS”，如果是要寻找光标之上的则使用？也就是</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs">？OC<br></code></pre></td></tr></table></figure>

<center><img src="/img/Linux运维——bash/8.png" srcset="/img/loading.gif" lazyload style="zoom:80%;" />
</center>

<p>&emsp;&emsp;除此之外，使用 /配合 n 及 N 是非常有帮助的！可以重复的找到一些搜寻的关键词</p>
<table>
<thead>
<tr>
<th align="center">执行命令</th>
<th>作用</th>
</tr>
</thead>
<tbody><tr>
<td align="center">:1,$s/word1/word2/g</td>
<td>n1 与 n2 为数字。在第 n1 与 n2 行之间寻找 word1 这个字符串，并将该字符串取代为 word2 ！举例来说，在 100 到 200 行之间搜寻 vbird 并取代为 VBIRD 则：  『:100,200s/vbird/VBIRD/g』</td>
</tr>
<tr>
<td align="center">:1,$s/word1/word2/g</td>
<td>从第一行到最后一行寻找 word1 字符串，并将该字符串取代为  word2 ！(常用)</td>
</tr>
<tr>
<td align="center">:%s/word1/word2/g</td>
<td>从第一行到最后一行寻找 word1 字符串，并将该字符串取代为 word2 ！(常用)</td>
</tr>
<tr>
<td align="center">:1,$s/word1/word2/gc</td>
<td>从第一行到最后一行寻找 word1 字符串，并将该字符串取代为 word2 ！且在取代前显示提示字符给用户确认 (confirm) 是否需要取代！</td>
</tr>
<tr>
<td align="center">:%s/word1/word2/gc</td>
<td>从第一行到最后一行寻找 word1 字符串，并将该字符串取代为 word2 ！且在取代前显示提示字符给用户确认 (confirm) 是否需要取代！</td>
</tr>
</tbody></table>
<p>这里以:n1,n2s/word1/word2/为例子创建替换指令</p>
<figure class="highlight awk"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs awk">:<span class="hljs-number">1</span>,<span class="hljs-number">4</span>s<span class="hljs-regexp">/DA/</span>WOC/<br></code></pre></td></tr></table></figure>

<p>&emsp;&emsp;执行前：</p>
<center><img src="/img/Linux运维——bash/9.png" srcset="/img/loading.gif" lazyload style="zoom:80%;" />
</center>

<p>&emsp;&emsp;修改后：</p>
<center><img src="/img/Linux运维——bash/10.png" srcset="/img/loading.gif" lazyload style="zoom:80%;" />
</center>

<ul>
<li><h5 id="vim环境变更"><a href="#vim环境变更" class="headerlink" title="vim环境变更"></a>vim环境变更</h5></li>
</ul>
<p>&emsp;&emsp;在vim的编辑器中，set命令用于设置各种选项和参数。以下是一些常见的set命令及其相关语法，设置普通选项：</p>
<figure class="highlight applescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs applescript"><span class="hljs-keyword">set</span> option    <span class="hljs-comment">#启用选项。</span><br><span class="hljs-keyword">set</span> nooption   <span class="hljs-comment">#禁用选项。</span><br><span class="hljs-keyword">set</span> <span class="hljs-built_in">number</span>   <span class="hljs-comment">#显示行号</span><br><span class="hljs-keyword">set</span> nowrap    <span class="hljs-comment">#禁止自动换行</span><br></code></pre></td></tr></table></figure>

<center><img src="/img/Linux运维——bash/11.png" srcset="/img/loading.gif" lazyload style="zoom:80%;" />
</center>

<p>&emsp;&emsp;设置布尔选项：</p>
<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-built_in">set</span> <span class="hljs-attribute">option</span>=value：   #将选项设置为给定的值。<br><span class="hljs-built_in">set</span> <span class="hljs-attribute">tabstop</span>=4        #设置制表符宽度为4个空格<br><span class="hljs-built_in">set</span> expandtab        #将制表符转换为空格<br></code></pre></td></tr></table></figure>

<p>&emsp;</p>
<h4 id="2-shell变量"><a href="#2-shell变量" class="headerlink" title="2.shell变量"></a>2.shell变量</h4><ul>
<li><h5 id="变量名"><a href="#变量名" class="headerlink" title="变量名"></a>变量名</h5></li>
</ul>
<p>&emsp;&emsp;在shell的脚本编辑中，定义的变量并不复杂，变量名是直接使用，并不像php语言汇总声明变量需要使用$符号。这里注重的是尽管shell的定义方式并不复杂，但是在变量名的设定上是由一定规则限制的：</p>
<p>&emsp;&emsp;1）只能使用英文字母、数字和下划线，首个字符不能以数字开头</p>
<p>&emsp;&emsp;2）中间不能有空格</p>
<p>&emsp;&emsp;3）不能使用标点符号</p>
<p>&emsp;&emsp;4）不能使用bash里的关键词（可以使用help命令查看所存在的关键词）</p>
<p>&emsp;&emsp;使用一个定义过变量则只需要在变量名字前加入美元符号即可：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br>test_name=<span class="hljs-string">&quot;centos&quot;</span><br><span class="hljs-built_in">echo</span> <span class="hljs-variable">$test_name</span><br><span class="hljs-built_in">echo</span> <span class="hljs-variable">$&#123;test_name&#125;</span><br></code></pre></td></tr></table></figure>

<center><img src="/img/Linux运维——bash/12.png" srcset="/img/loading.gif" lazyload style="zoom:80%;" />
</center>

<ul>
<li><h5 id="只读变量"><a href="#只读变量" class="headerlink" title="只读变量"></a>只读变量</h5></li>
</ul>
<p>&emsp;&emsp;接下来我们了解只读变量，使用了readonly后，变量就会被定义为只读变量，只读变量的值不会被改变</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br>test_name=”centos”<br><span class="hljs-built_in">echo</span> <span class="hljs-variable">$test_name</span><br><span class="hljs-built_in">readonly</span> test_name<br>test_name=”nonono”<br><span class="hljs-built_in">echo</span> <span class="hljs-variable">$test_name</span><br></code></pre></td></tr></table></figure>

<center><img src="/img/Linux运维——bash/13.png" srcset="/img/loading.gif" lazyload style="zoom:80%;" />
</center>



<center><img src="/img/Linux运维——bash/14.png" srcset="/img/loading.gif" lazyload style="zoom:80%;" />
</center>

<ul>
<li><h5 id="删除变量"><a href="#删除变量" class="headerlink" title="删除变量"></a>删除变量</h5></li>
</ul>
<p>&emsp;&emsp;我们可以使用unset命令进行删除变量，变量被删除后就不能再次使用，这里值得注意的是unset命令不能删除只读变量</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br>test_name=<span class="hljs-string">&quot;centos&quot;</span><br><span class="hljs-built_in">echo</span> <span class="hljs-variable">$test_name</span><br><span class="hljs-built_in">unset</span> test_name<br><span class="hljs-built_in">echo</span> <span class="hljs-variable">$test_name</span><br><br>test_name=<span class="hljs-string">&quot;centos2&quot;</span><br><span class="hljs-built_in">readonly</span> test_name<br><span class="hljs-built_in">unset</span> test_name<br><span class="hljs-built_in">echo</span> <span class="hljs-variable">$test_name</span><br></code></pre></td></tr></table></figure>

<center><img src="/img/Linux运维——bash/15.png" srcset="/img/loading.gif" lazyload style="zoom:80%;" />
</center>



<center><img src="/img/Linux运维——bash/16.png" srcset="/img/loading.gif" lazyload style="zoom:80%;" />
</center>

<ul>
<li><h5 id="变量类型"><a href="#变量类型" class="headerlink" title="变量类型"></a>变量类型</h5></li>
</ul>
<p>&emsp;&emsp;在运行的一个shell脚本中，会同时存在三种变量：</p>
<p>&emsp;&emsp;1）局部变量：在脚本或命令中定义，仅在当前shell实例中有效，其他shell启动的程序不能访问局部变量</p>
<p>&emsp;&emsp;2）环境变量：所有的程序，包括shell启动的程序，都能访问环境变量，有些程序需要环境变量来保证其正常运行。</p>
<p>&emsp;&emsp;3）shell变量：shell变量是由shell程序设置的特殊变量。shell变量中有一部分是环境变量，有一部分是局部变量，这些变量保证了shell的正常运行</p>
<ul>
<li><h5 id="字符串数据类型"><a href="#字符串数据类型" class="headerlink" title="字符串数据类型"></a>字符串数据类型</h5></li>
</ul>
<p>&emsp;&emsp;字符串是shell编程中，最常用的数据类型，字符串既可以用单引号也可以使用双引号，这两个存在着一定的区别</p>
<p>&emsp;&emsp;1）单引号：在单引号中的内容，其任意字符都会原样进行输出，这也代表了单引号字符串中的变量是无效的，其次是引号字串中不能出现单独一个的单引号（对单引号使用转义符后也不行），但可成对出现，作为字符串拼接使用</p>
<center><img src="/img/Linux运维——bash/17.png" srcset="/img/loading.gif" lazyload style="zoom:80%;" />
</center>

<p>&emsp;</p>
<center><img src="/img/Linux运维——bash/18.png" srcset="/img/loading.gif" lazyload style="zoom:80%;" />
</center>

<p>&emsp;&emsp;2）双引号：双引号则是可以在内容中放置变量，并且能够出现转义字符</p>
<center><img src="/img/Linux运维——bash/19.png" srcset="/img/loading.gif" lazyload style="zoom:80%;" />
</center>

<p>&emsp;</p>
<center><img src="/img/Linux运维——bash/20.png" srcset="/img/loading.gif" lazyload style="zoom:80%;" />
</center>

<p>&emsp;&emsp;3）获取字符串长度</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-keyword">string</span>=<span class="hljs-string">&quot;dczj&quot;</span><br><span class="hljs-keyword">echo</span> $&#123;<span class="hljs-comment">#string&#125;</span><br></code></pre></td></tr></table></figure>

<center><img src="/img/Linux运维——bash/21.png" srcset="/img/loading.gif" lazyload style="zoom:80%;" />
</center>

<p>&emsp;&emsp;当变量为字符串时：</p>
<figure class="highlight smalltalk"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs smalltalk">#<span class="hljs-string">$&#123;</span><span class="hljs-symbol">#string</span>&#125; 等价于 <span class="hljs-string">$&#123;</span><span class="hljs-symbol">#string</span>[<span class="hljs-number">0</span>]&#125;:<br><br>string=<span class="hljs-comment">&quot;abcd&quot;</span><br>echo <span class="hljs-string">$&#123;</span><span class="hljs-symbol">#string</span>[<span class="hljs-number">0</span>]&#125;<br></code></pre></td></tr></table></figure>

<p>&emsp;&emsp;4）提取字符串</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs php"><span class="hljs-keyword">string</span>=<span class="hljs-string">&quot;dczjdczjdczj&quot;</span><br><span class="hljs-keyword">echo</span> $&#123;<span class="hljs-keyword">string</span>:<span class="hljs-number">4</span>:<span class="hljs-number">4</span>&#125;<br></code></pre></td></tr></table></figure>

<center><img src="/img/Linux运维——bash/22.png" srcset="/img/loading.gif" lazyload style="zoom:80%;" />
</center>

<p>&emsp;&emsp;5）查找子字符串</p>
<p>&emsp;&emsp;比如接下来的指令是查找字符 o 或 p 的位置</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">string=<span class="hljs-string">&quot;dczjodczjpdczj&quot;</span><br><span class="hljs-built_in">echo</span> `<span class="hljs-built_in">expr</span> index <span class="hljs-string">&quot;<span class="hljs-variable">$string</span>&quot;</span> op`<br></code></pre></td></tr></table></figure>

<center><img src="/img/Linux运维——bash/23.png" srcset="/img/loading.gif" lazyload style="zoom:80%;" />
</center>

<p>&emsp;</p>
<h4 id="3-shell参数"><a href="#3-shell参数" class="headerlink" title="3.shell参数"></a>3.shell参数</h4><p>&emsp;&emsp;当我们在执行shell的脚本时，先脚本传递参数，脚本获取参数的格式为:$n。n则代表一个数值，1为执行脚本的第一个参数，2为第二个执行脚本的第二个参数，以此往复。</p>
<p>&emsp;&emsp;例如：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Shell 传递参数实例！&quot;</span>;<br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;执行的文件名：<span class="hljs-variable">$0</span>&quot;</span>;<br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;第一个参数为：<span class="hljs-variable">$1</span>&quot;</span>;<br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;第二个参数为：<span class="hljs-variable">$2</span>&quot;</span>;<br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;第三个参数为：<span class="hljs-variable">$3</span>&quot;</span>;<br></code></pre></td></tr></table></figure>

<center><img src="/img/Linux运维——bash/24.png" srcset="/img/loading.gif" lazyload style="zoom:80%;" />
</center>

<p>&emsp;&emsp;除此以外，也有一些特殊字符用来配合$进行相关的参数处理：</p>
<table>
<thead>
<tr>
<th align="center">参数处理</th>
<th align="left">说明</th>
</tr>
</thead>
<tbody><tr>
<td align="center">$#</td>
<td align="left">&emsp;&emsp;传递到脚本的参数个数</td>
</tr>
<tr>
<td align="center">$*</td>
<td align="left">&emsp;&emsp;以一个单字符串显示所有向脚本传递的参数</td>
</tr>
<tr>
<td align="center">$$</td>
<td align="left">&emsp;&emsp;脚本运行的当前进程ID号</td>
</tr>
<tr>
<td align="center">$!</td>
<td align="left">&emsp;&emsp;后台运行的最后一个进程的ID号</td>
</tr>
<tr>
<td align="center">$@</td>
<td align="left">&emsp;&emsp;与$*相同，但是使用时加引号，并在引号中返回每个参数</td>
</tr>
<tr>
<td align="center">$-</td>
<td align="left">&emsp;&emsp;显示Shell使用的当前选项，与set命令功能相同</td>
</tr>
<tr>
<td align="center">$?</td>
<td align="left">&emsp;&emsp;显示最后命令的退出状态。0表示没有错误，其他任何值表明有错误</td>
</tr>
</tbody></table>
<center><img src="/img/Linux运维——bash/25.png" srcset="/img/loading.gif" lazyload style="zoom:80%;" />
</center>

<p>&emsp;&emsp;这里需要阐述一下$* 与 $@ 区别，他们的相同点就是都是引用了所有的阐述，不同点则只有在使用双引号的时候才会有所体现，当执行./test.sh 1 2 3时，” * “ 等价于 “1 2 3”（传递了一个参数），而 “@” 等价于 “1” “2” “3”（传递了三个参数）</p>
<center><img src="/img/Linux运维——bash/26.png" srcset="/img/loading.gif" lazyload style="zoom:80%;" />
</center>

<p>&emsp;</p>
<h4 id="4-基本函数使用"><a href="#4-基本函数使用" class="headerlink" title="4.基本函数使用"></a>4.基本函数使用</h4><p>&emsp;&emsp;在函数的学习中，个人认为是按照两个方向进行了解，一个是该编辑脚本语言自带的基础函数，另一个则是对于自定义函数的相关编辑，首先是对基础函数的了解：</p>
<ul>
<li><h5 id="echo"><a href="#echo" class="headerlink" title="echo"></a>echo</h5></li>
</ul>
<p>&emsp;&emsp;用于在终端输出文本或变量的值</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Hello, World!&quot;</span><br></code></pre></td></tr></table></figure>

<center><img src="/img/Linux运维——bash/27.png" srcset="/img/loading.gif" lazyload style="zoom:80%;" />
</center>

<ul>
<li><h5 id="read"><a href="#read" class="headerlink" title="read"></a>read</h5></li>
</ul>
<p>&emsp;&emsp;用于从用户中输入读取数据，并将其存储到一个变量中</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;What is your name?&quot;</span><br><span class="hljs-built_in">read</span> name<br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Hello, <span class="hljs-variable">$name</span>!&quot;</span><br></code></pre></td></tr></table></figure>

<center><img src="/img/Linux运维——bash/28.png" srcset="/img/loading.gif" lazyload style="zoom:80%;" />
</center>

<ul>
<li><h5 id="if-else"><a href="#if-else" class="headerlink" title="if-else"></a>if-else</h5></li>
</ul>
<p>&emsp;&emsp;用于根据条件执行不同的操作</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Enter a number:&quot;</span><br><span class="hljs-built_in">read</span> num<br><span class="hljs-keyword">if</span> [ <span class="hljs-variable">$num</span> -gt 10 ]; <span class="hljs-keyword">then</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Number is greater than 10&quot;</span><br><span class="hljs-keyword">else</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Number is less than or equal to 10&quot;</span><br><span class="hljs-keyword">fi</span><br></code></pre></td></tr></table></figure>

<center><img src="/img/Linux运维——bash/29.png" srcset="/img/loading.gif" lazyload style="zoom:80%;" />
</center>

<ul>
<li><h5 id="for"><a href="#for" class="headerlink" title="for"></a>for</h5></li>
</ul>
<p>&emsp;&emsp;用于重复执行一系列命令</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br><span class="hljs-keyword">for</span> i <span class="hljs-keyword">in</span> &#123;1..5&#125;; <span class="hljs-keyword">do</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Iteration: <span class="hljs-variable">$i</span>&quot;</span><br><span class="hljs-keyword">done</span><br></code></pre></td></tr></table></figure>

<center><img src="/img/Linux运维——bash/30.png" srcset="/img/loading.gif" lazyload style="zoom:80%;" />
</center>

<ul>
<li><h5 id="while"><a href="#while" class="headerlink" title="while"></a>while</h5></li>
</ul>
<p>&emsp;&emsp;用于在满足条件时重复执行一系列命令</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br>counter=0<br><span class="hljs-keyword">while</span> [ <span class="hljs-variable">$counter</span> -lt 5 ]; <span class="hljs-keyword">do</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Counter: <span class="hljs-variable">$counter</span>&quot;</span><br>    counter=$((counter+<span class="hljs-number">1</span>))<br><span class="hljs-keyword">done</span><br></code></pre></td></tr></table></figure>

<center><img src="/img/Linux运维——bash/31.png" srcset="/img/loading.gif" lazyload style="zoom:80%;" />
</center>

<ul>
<li><h5 id="case"><a href="#case" class="headerlink" title="case"></a>case</h5></li>
</ul>
<p>&emsp;&emsp;用于根据不同的条件执行不同的操作</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Please enter an option:&quot;</span><br><span class="hljs-built_in">read</span> option<br><span class="hljs-keyword">case</span> <span class="hljs-variable">$option</span> <span class="hljs-keyword">in</span><br>1)<br>  <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Option 1 selected&quot;</span><br>  ;;<br>2)<br>  <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Option 2 selected&quot;</span><br>  ;;<br>*)<br>  <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;Invalid option&quot;</span><br>  ;;<br><span class="hljs-keyword">esac</span><br></code></pre></td></tr></table></figure>

<center><img src="/img/Linux运维——bash/32.png" srcset="/img/loading.gif" lazyload style="zoom:80%;" />
</center>

<ul>
<li><h5 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h5></li>
</ul>
<p>&emsp;&emsp;使用数组来存储一组相关的值</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br>fruits=(<span class="hljs-string">&quot;apple&quot;</span> <span class="hljs-string">&quot;banana&quot;</span> <span class="hljs-string">&quot;orange&quot;</span>)<br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;First fruit: <span class="hljs-variable">$&#123;fruits[0]&#125;</span>&quot;</span><br></code></pre></td></tr></table></figure>

<center><img src="/img/Linux运维——bash/33.png" srcset="/img/loading.gif" lazyload style="zoom:80%;" />
</center>

<ul>
<li><h5 id="自定义函数"><a href="#自定义函数" class="headerlink" title="自定义函数"></a>自定义函数</h5></li>
</ul>
<p>&emsp;&emsp;通过前面几个基本拿到函数介绍，摸完能够明白大部分的函数本质就是一段可以重复使用的脚本代码，这段代码提前编写，当需要使用时直接调取即可，首先了解下sell函自定义函数的语法内容：</p>
<figure class="highlight ada"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs ada"><span class="hljs-keyword">function</span> <span class="hljs-title">name</span>() &#123;<br>    statements<br>    [<span class="hljs-keyword">return</span> <span class="hljs-type">value]</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>&emsp;&emsp;其函数定义本质上与所学过的c语言语法是相类似的，function就是shell的关键字，专门用来定义函数的，name则是我们定义的函数名称，statement是函数要执行的代码模块，也就是一组符合规则的语句，return value则是函数的返回值，其中return是shell的关键字，专门用在函数中返回一个值，这一部分是可以根据具体需求而删去或添加的（和c语言太像了）</p>
<p>&emsp;&emsp;当然，在函数定义的时候不写function关键字，也就是：</p>
<figure class="highlight stylus"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs stylus"><span class="hljs-function"><span class="hljs-title">name</span><span class="hljs-params">()</span></span> &#123;<br>    statements<br>    <span class="hljs-selector-attr">[return value]</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>&emsp;&emsp;虽然没太大作用，但是这样子也是被规则允许的，函数定义中由{}包含的部分就称呼为函数体，调用一个函数，实际上就是执行函数体中的代码</p>
<p>&emsp;&emsp;1）函数调用</p>
<p>&emsp;&emsp;在shell的函数定义完毕后，调用函数也是颇有讲究，我们在调用函数的时可以进行传递参数，也可以不传递参数</p>
<figure class="highlight armasm"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><code class="hljs armasm"><span class="hljs-comment">#不传递参数，直接给出函数名称即可</span><br><span class="hljs-symbol">name</span><br><span class="hljs-comment">#传递参数，多个参数之间则以空格隔开</span><br><span class="hljs-symbol">name</span> <span class="hljs-built_in">p1</span> <span class="hljs-built_in">p2</span> <span class="hljs-built_in">p3</span><br></code></pre></td></tr></table></figure>

<p>&emsp;&emsp;这里就与c语言有些区别了，不管是哪种形式，shell自定义函数在调用后的函数名称后面都不需要带括号，和其他编程语言不同的是，shell函数在定义时不能指明参数，但是在调用时却可以传递参数，也就是我们给它传递什么参数，它就接收什么参数，它也不限制定义和嗲用的顺序，我们可以定义之后在编写调用，也可以编写调用后再进行定义</p>
<p>&emsp;&emsp;2）实例1</p>
<p>&emsp;&emsp;这里我们定义一个函数，输出一个内容</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br><span class="hljs-comment">#函数定义</span><br><span class="hljs-keyword">function</span> <span class="hljs-function"><span class="hljs-title">url</span></span>()&#123;<br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot; this is a neiron&quot;</span><br>&#125;<br><span class="hljs-comment">#函数调用</span><br>url<br></code></pre></td></tr></table></figure>

<center><img src="/img/Linux运维——bash/34.png" srcset="/img/loading.gif" lazyload style="zoom:80%;" />
</center>

<p>&emsp;&emsp;真如前文所提到的，我们可以将调用和定义的顺序进行调换，依旧是不影响输出执行的结果</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br><span class="hljs-comment">#函数调用</span><br>url<br><span class="hljs-comment">#函数定义</span><br><span class="hljs-keyword">function</span> <span class="hljs-function"><span class="hljs-title">url</span></span>()&#123;<br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot; this is a neiron&quot;</span><br>&#125;<br></code></pre></td></tr></table></figure>

<p>&emsp;&emsp;3）实例2</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br><span class="hljs-keyword">function</span> <span class="hljs-function"><span class="hljs-title">getsum</span></span>()&#123;<br>    <span class="hljs-built_in">local</span> <span class="hljs-built_in">sum</span>=0<br>    <span class="hljs-keyword">for</span> n <span class="hljs-keyword">in</span> <span class="hljs-variable">$@</span><br>    <span class="hljs-keyword">do</span><br>         ((<span class="hljs-built_in">sum</span>+=n))<br>    <span class="hljs-keyword">done</span><br>    <span class="hljs-built_in">return</span> <span class="hljs-variable">$sum</span><br>&#125;<br>getsum 10 20 55 15  <span class="hljs-comment">#调用函数并传递参数</span><br><span class="hljs-built_in">echo</span> $?<br></code></pre></td></tr></table></figure>

<center><img src="/img/Linux运维——bash/35.png" srcset="/img/loading.gif" lazyload style="zoom:80%;" />
</center>

<p>&emsp;&emsp;$@是指函数的所有参数，也就是循环玩全部的内容，$?表示函数的返回值</p>
<p>&emsp;</p>
<h4 id="5-shell脚本表达式"><a href="#5-shell脚本表达式" class="headerlink" title="5. shell脚本表达式"></a>5. shell脚本表达式</h4><p>&emsp;&emsp;在shell脚本中，会存在各种表达式，允许我们对变量、常量和其他值进行数学运算、逻辑运算和字符串操作，比如数字表达式，逻辑表达式与字符串表达式等</p>
<ul>
<li><h5 id="数学表达式"><a href="#数学表达式" class="headerlink" title="数学表达式"></a>数学表达式</h5></li>
</ul>
<p>&emsp;&emsp;1）加法</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br>num1=5<br>num2=3<br>result=$((num1 + num2))<br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;加法结果是: <span class="hljs-variable">$result</span>&quot;</span><br></code></pre></td></tr></table></figure>

<center><img src="/img/Linux运维——bash/36.png" srcset="/img/loading.gif" lazyload style="zoom:80%;" />
</center>
&emsp;&emsp;2）减法

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br>num1=10<br>num2=7<br>result=$((num1 - num2))<br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;减法结果是: <span class="hljs-variable">$result</span>&quot;</span><br></code></pre></td></tr></table></figure>

<center><img src="/img/Linux运维——bash/37.png" srcset="/img/loading.gif" lazyload style="zoom:80%;" />
</center>
&emsp;&emsp;3）乘法

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br>num1=4<br>num2=6<br>result=$((num1 * num2))<br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;乘法结果是: <span class="hljs-variable">$result</span>&quot;</span><br></code></pre></td></tr></table></figure>

<center><img src="/img/Linux运维——bash/38.png" srcset="/img/loading.gif" lazyload style="zoom:80%;" />
</center>
&emsp;&emsp;4）除法

<figure class="highlight routeros"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs routeros"><span class="hljs-comment">#！/bin/bash</span><br><span class="hljs-attribute">num1</span>=15<br><span class="hljs-attribute">num2</span>=3<br><span class="hljs-attribute">result</span>=$((num1 / num2))<br>echo <span class="hljs-string">&quot;除法结果是: <span class="hljs-variable">$result</span>&quot;</span><br></code></pre></td></tr></table></figure>

<center><img src="/img/Linux运维——bash/39.png" srcset="/img/loading.gif" lazyload style="zoom:80%;" />
</center>

<ul>
<li><h5 id="逻辑运算符"><a href="#逻辑运算符" class="headerlink" title="逻辑运算符"></a>逻辑运算符</h5></li>
</ul>
<p>&emsp;&emsp;1）and运算符</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br>condition1=1<br>condition2=1<br><br><span class="hljs-keyword">if</span> [ <span class="hljs-variable">$condition1</span> -eq 1 ] &amp;&amp; [ <span class="hljs-variable">$condition2</span> -eq 1 ]; <span class="hljs-keyword">then</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;条件1和条件2都为真&quot;</span><br><span class="hljs-keyword">else</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;至少有一个条件不满足&quot;</span><br><span class="hljs-keyword">fi</span><br></code></pre></td></tr></table></figure>

<center><img src="/img/Linux运维——bash/40.png" srcset="/img/loading.gif" lazyload style="zoom:80%;" />
</center>
&emsp;&emsp;2）not运算符

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br>condition=0<br><span class="hljs-keyword">if</span> ! [ <span class="hljs-variable">$condition</span> -eq 1 ]; <span class="hljs-keyword">then</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;条件不满足&quot;</span><br><span class="hljs-keyword">else</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;条件满足&quot;</span><br><span class="hljs-keyword">fi</span><br></code></pre></td></tr></table></figure>

<center><img src="/img/Linux运维——bash/41.png" srcset="/img/loading.gif" lazyload style="zoom:80%;" />
</center>
&emsp;&emsp;3）or运算符

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br>condition1=1<br>condition2=0<br><span class="hljs-keyword">if</span> [ <span class="hljs-variable">$condition1</span> -eq 1 ] || [ <span class="hljs-variable">$condition2</span> -eq 1 ]; <span class="hljs-keyword">then</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;至少有一个条件为真&quot;</span><br><span class="hljs-keyword">else</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;两个条件都不满足&quot;</span><br><span class="hljs-keyword">fi</span><br></code></pre></td></tr></table></figure>

<center><img src="/img/Linux运维——bash/42.png" srcset="/img/loading.gif" lazyload style="zoom:80%;" />
</center>

<ul>
<li><h5 id="字符串表达式"><a href="#字符串表达式" class="headerlink" title="字符串表达式"></a>字符串表达式</h5></li>
</ul>
<p>&emsp;&emsp;1）字符串连接</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br>string1=<span class="hljs-string">&quot;Hello&quot;</span><br>string2=<span class="hljs-string">&quot;World&quot;</span><br>result=$string1<span class="hljs-variable">$string2</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;连接后的字符串是: <span class="hljs-variable">$result</span>&quot;</span><br></code></pre></td></tr></table></figure>

<center><img src="/img/Linux运维——bash/43.png" srcset="/img/loading.gif" lazyload style="zoom:80%;" />
</center>
&emsp;&emsp;2）字符串比较

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br>string1=<span class="hljs-string">&quot;Hello&quot;</span><br>string2=<span class="hljs-string">&quot;World&quot;</span><br><br><span class="hljs-keyword">if</span> [ <span class="hljs-string">&quot;<span class="hljs-variable">$string1</span>&quot;</span> == <span class="hljs-string">&quot;<span class="hljs-variable">$string2</span>&quot;</span> ]; <span class="hljs-keyword">then</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;字符串相等&quot;</span><br><span class="hljs-keyword">else</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;字符串不相等&quot;</span><br><span class="hljs-keyword">fi</span><br></code></pre></td></tr></table></figure>

<center><img src="/img/Linux运维——bash/44.png" srcset="/img/loading.gif" lazyload style="zoom:80%;" />
</center>
&emsp;&emsp;3）提取字符串

<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br>string=<span class="hljs-string">&quot;Hello, World!&quot;</span><br>position=7<br>length=5<br>substring=<span class="hljs-variable">$&#123;string:$position:$length&#125;</span><br><span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;提取的子字符串是: <span class="hljs-variable">$substring</span>&quot;</span><br></code></pre></td></tr></table></figure>

<center><img src="/img/Linux运维——bash/45.png" srcset="/img/loading.gif" lazyload style="zoom:80%;" />
</center>

<p>&emsp;&emsp;这只是一些常见的表达式和用法示例，实际上还有更多的表达式和操作可以在shell脚本中使用。具体使用哪种表达式取决于我们的需求和脚本的目标</p>
<p>&emsp;</p>
<h4 id="6-shell脚本测试"><a href="#6-shell脚本测试" class="headerlink" title="6.shell脚本测试"></a>6.shell脚本测试</h4><p>&emsp;&emsp;在shell中提供了进行相关测试的语法，这样子可以帮助我们编写更加可靠和的脚本，比如条件语句测试、测试命令测试等，test 命令或功能等价的 Bash 内置命令 [ ] 可以做条件测试，如果测试的结果为 True，则退出状态码为 0，除此之外，还可以使用 [[]] 来做条件测试，它比 test 多一个正则匹配的功能。此外，let、$[]、$(()) 也可以做条件测试。但是只需要掌握其中的一种测试方法即可</p>
<p>&emsp;&emsp;在测试当中，我们理所应当的是使用if-else、while等内容进行测试，也常用到前面所提到的&amp;&amp;和||判断符号。</p>
<ul>
<li><h5 id="test检查字符串是否相等"><a href="#test检查字符串是否相等" class="headerlink" title="test检查字符串是否相等"></a>test检查字符串是否相等</h5></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br>str1=<span class="hljs-string">&quot;Hello&quot;</span><br>str2=<span class="hljs-string">&quot;World&quot;</span><br><span class="hljs-keyword">if</span> <span class="hljs-built_in">test</span> <span class="hljs-string">&quot;<span class="hljs-variable">$str1</span>&quot;</span> = <span class="hljs-string">&quot;<span class="hljs-variable">$str2</span>&quot;</span>; <span class="hljs-keyword">then</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;字符串相等&quot;</span><br><span class="hljs-keyword">else</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;字符串不相等&quot;</span><br><span class="hljs-keyword">fi</span><br></code></pre></td></tr></table></figure>

<center><img src="/img/Linux运维——bash/46.png" srcset="/img/loading.gif" lazyload style="zoom:80%;" />
</center>

<ul>
<li><h5 id="检查文件是否可写"><a href="#检查文件是否可写" class="headerlink" title="检查文件是否可写"></a>检查文件是否可写</h5></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br><span class="hljs-keyword">if</span> [ -w <span class="hljs-string">&quot;/path/to/file&quot;</span> ]; <span class="hljs-keyword">then</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;文件可写&quot;</span><br><span class="hljs-keyword">else</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;文件不可写&quot;</span><br><span class="hljs-keyword">fi</span><br></code></pre></td></tr></table></figure>

<center><img src="/img/Linux运维——bash/47.png" srcset="/img/loading.gif" lazyload style="zoom:80%;" />
</center>

<ul>
<li><h5 id="检查数值是否相等"><a href="#检查数值是否相等" class="headerlink" title="检查数值是否相等"></a>检查数值是否相等</h5></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br>num1=10<br>num2=20<br><span class="hljs-keyword">if</span> [ <span class="hljs-string">&quot;<span class="hljs-variable">$num1</span>&quot;</span> -eq <span class="hljs-string">&quot;<span class="hljs-variable">$num2</span>&quot;</span> ]; <span class="hljs-keyword">then</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;数值相等&quot;</span><br><span class="hljs-keyword">else</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;数值不相等&quot;</span><br><span class="hljs-keyword">fi</span><br></code></pre></td></tr></table></figure>

<center><img src="/img/Linux运维——bash/48.png" srcset="/img/loading.gif" lazyload style="zoom:80%;" />
</center>

<ul>
<li><h5 id="检查数值大小关系"><a href="#检查数值大小关系" class="headerlink" title="检查数值大小关系"></a>检查数值大小关系</h5></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br><span class="hljs-keyword">if</span> [ <span class="hljs-string">&quot;<span class="hljs-variable">$num1</span>&quot;</span> -gt <span class="hljs-string">&quot;<span class="hljs-variable">$num2</span>&quot;</span> ]; <span class="hljs-keyword">then</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;num1大于num2&quot;</span><br><span class="hljs-keyword">else</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;num1小于或等于num2&quot;</span><br><span class="hljs-keyword">fi</span><br></code></pre></td></tr></table></figure>

<center><img src="/img/Linux运维——bash/49.png" srcset="/img/loading.gif" lazyload style="zoom:80%;" />
</center>

<ul>
<li><h5 id="检查目录是否存在"><a href="#检查目录是否存在" class="headerlink" title="检查目录是否存在"></a>检查目录是否存在</h5></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br><span class="hljs-keyword">if</span> [ -d <span class="hljs-string">&quot;/path/to/directory&quot;</span> ]; <span class="hljs-keyword">then</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;目录存在&quot;</span><br><span class="hljs-keyword">else</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;目录不存在&quot;</span><br><span class="hljs-keyword">fi</span><br></code></pre></td></tr></table></figure>

<center><img src="/img/Linux运维——bash/50.png" srcset="/img/loading.gif" lazyload style="zoom:80%;" />
</center>

<ul>
<li><h5 id="检查文件是否可执行"><a href="#检查文件是否可执行" class="headerlink" title="检查文件是否可执行"></a>检查文件是否可执行</h5></li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><code class="hljs bash"><span class="hljs-meta">#!/bin/bash</span><br><span class="hljs-keyword">if</span> [ -x <span class="hljs-string">&quot;/path/to/file&quot;</span> ]; <span class="hljs-keyword">then</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;文件可执行&quot;</span><br><span class="hljs-keyword">else</span><br>    <span class="hljs-built_in">echo</span> <span class="hljs-string">&quot;文件不可执行&quot;</span><br><span class="hljs-keyword">fi</span><br></code></pre></td></tr></table></figure>

<center><img src="/img/Linux运维——bash/51.png" srcset="/img/loading.gif" lazyload style="zoom:80%;" />
</center>

                
              </div>
            
            <hr/>
            <div>
              <div class="post-metas my-3">
  
    <div class="post-meta mr-3 d-flex align-items-center">
      <i class="iconfont icon-category"></i>
      

<span class="category-chains">
  
  
    
      <span class="category-chain">
        
  <a href="/categories/Linux%E8%BF%90%E7%BB%B4/" class="category-chain-item">Linux运维</a>
  
  

      </span>
    
  
</span>

    </div>
  
  
</div>


              
  

  <div class="license-box my-3">
    <div class="license-title">
      <div>Bash脚本编写</div>
      <div>https://one-null-pointer.github.io/2023/07/07/Linux运维——ash/</div>
    </div>
    <div class="license-meta">
      
        <div class="license-meta-item">
          <div>Author</div>
          <div>liaoyue</div>
        </div>
      
      
        <div class="license-meta-item license-meta-date">
          <div>Posted on</div>
          <div>July 7, 2023</div>
        </div>
      
      
      <div class="license-meta-item">
        <div>传送口</div>
        <div>
          
            
            
              <a target="_blank" href="https://creativecommons.org/licenses/by/4.0/">
              <span class="hint--top hint--rounded" aria-label="点击进行传送">
                <i class="iconfont icon-by"></i>
              </span>
              </a>
            
          
        </div>
      </div>
    </div>
    <div class="license-icon iconfont"></div>
  </div>



              
                <div class="post-prevnext my-3">
                  <article class="post-prev col-6">
                    
                    
                      <a href="/2023/07/21/WEBtools%E2%80%94%E2%80%94Nmap/" title="WEBtools——Nmap">
                        <i class="iconfont icon-arrowleft"></i>
                        <span class="hidden-mobile">WEBtools——Nmap</span>
                        <span class="visible-mobile">Previous</span>
                      </a>
                    
                  </article>
                  <article class="post-next col-6">
                    
                    
                      <a href="/2023/07/05/Linux%E8%BF%90%E7%BB%B4%E2%80%94%E2%80%94%E7%B3%BB%E7%BB%9F%E5%AE%89%E5%85%A8%E4%B8%8E%E4%BC%98%E5%8C%96/" title="系统安全与优化">
                        <span class="hidden-mobile">系统安全与优化</span>
                        <span class="visible-mobile">Next</span>
                        <i class="iconfont icon-arrowright"></i>
                      </a>
                    
                  </article>
                </div>
              
            </div>

            
          </article>
        </div>
      </div>
    </div>

    <div class="side-col d-none d-lg-block col-lg-2">
      
  <aside class="sidebar" style="margin-left: -1rem">
    <div id="toc">
  <p class="toc-header"><i class="iconfont icon-list"></i>&nbsp;Table of Contents</p>
  <div class="toc-body" id="toc-body"></div>
</div>



  </aside>


    </div>
  </div>
</div>





  



  



  



  



  







    

    
      <a id="scroll-top-button" aria-label="TOP" href="#" role="button">
        <i class="iconfont icon-arrowup" aria-hidden="true"></i>
      </a>
    

    
      <div class="modal fade" id="modalSearch" tabindex="-1" role="dialog" aria-labelledby="ModalLabel"
     aria-hidden="true">
  <div class="modal-dialog modal-dialog-scrollable modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header text-center">
        <h4 class="modal-title w-100 font-weight-bold">Search</h4>
        <button type="button" id="local-search-close" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body mx-3">
        <div class="md-form mb-5">
          <input type="text" id="local-search-input" class="form-control validate">
          <label data-error="x" data-success="v" for="local-search-input">Keyword</label>
        </div>
        <div class="list-group" id="local-search-result"></div>
      </div>
    </div>
  </div>
</div>

    

    
  </main>

  <footer>
    <div class="footer-inner">
  
    <div class="footer-content">
       <a href="https://github.com/" target="_blank" rel="nofollow noopener"><span>pointer</span></a> <i class="iconfont icon-love"></i> <a href="https://mp.weixin.qq.com/s/6ncLUtaiJ9j_sMjZT5z-2w" target="_blank" rel="nofollow noopener"><span>一个爱学习的空指针</span></a> 
    </div>
  
  
  
  
</div>

  </footer>

  <!-- Scripts -->
  
  <script  src="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.js" ></script>
  <link  rel="stylesheet" href="https://lib.baomitu.com/nprogress/0.2.0/nprogress.min.css" />

  <script>
    NProgress.configure({"showSpinner":false,"trickleSpeed":100})
    NProgress.start()
    window.addEventListener('load', function() {
      NProgress.done();
    })
  </script>


<script  src="https://lib.baomitu.com/jquery/3.6.0/jquery.min.js" ></script>
<script  src="https://lib.baomitu.com/twitter-bootstrap/4.6.1/js/bootstrap.min.js" ></script>
<script  src="/js/events.js" ></script>
<script  src="/js/plugins.js" ></script>


  <script  src="https://lib.baomitu.com/typed.js/2.0.12/typed.min.js" ></script>
  <script>
    (function (window, document) {
      var typing = Fluid.plugins.typing;
      var subtitle = document.getElementById('subtitle');
      if (!subtitle || !typing) {
        return;
      }
      var text = subtitle.getAttribute('data-typed-text');
      
        typing(text);
      
    })(window, document);
  </script>




  
    <script  src="/js/img-lazyload.js" ></script>
  




  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/tocbot/4.18.2/tocbot.min.js', function() {
    var toc = jQuery('#toc');
    if (toc.length === 0 || !window.tocbot) { return; }
    var boardCtn = jQuery('#board-ctn');
    var boardTop = boardCtn.offset().top;

    window.tocbot.init({
      tocSelector     : '#toc-body',
      contentSelector : '.markdown-body',
      headingSelector : CONFIG.toc.headingSelector || 'h1,h2,h3,h4,h5,h6',
      linkClass       : 'tocbot-link',
      activeLinkClass : 'tocbot-active-link',
      listClass       : 'tocbot-list',
      isCollapsedClass: 'tocbot-is-collapsed',
      collapsibleClass: 'tocbot-is-collapsible',
      collapseDepth   : CONFIG.toc.collapseDepth || 0,
      scrollSmooth    : true,
      headingsOffset  : -boardTop
    });
    if (toc.find('.toc-list-item').length > 0) {
      toc.css('visibility', 'visible');
    }
  });
</script>


  <script src=https://lib.baomitu.com/clipboard.js/2.0.10/clipboard.min.js></script>

  <script>Fluid.plugins.codeWidget();</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/anchor-js/4.3.1/anchor.min.js', function() {
    window.anchors.options = {
      placement: CONFIG.anchorjs.placement,
      visible  : CONFIG.anchorjs.visible
    };
    if (CONFIG.anchorjs.icon) {
      window.anchors.options.icon = CONFIG.anchorjs.icon;
    }
    var el = (CONFIG.anchorjs.element || 'h1,h2,h3,h4,h5,h6').split(',');
    var res = [];
    for (var item of el) {
      res.push('.markdown-body > ' + item.trim());
    }
    if (CONFIG.anchorjs.placement === 'left') {
      window.anchors.options.class = 'anchorjs-link-left';
    }
    window.anchors.add(res.join(', '));
  });
</script>


  
<script>
  Fluid.utils.createScript('https://lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js', function() {
    Fluid.plugins.fancyBox();
  });
</script>


  <script>Fluid.plugins.imageCaption();</script>

  <script  src="/js/local-search.js" ></script>





<!-- 主题的启动项，将它保持在最底部 -->
<!-- the boot of the theme, keep it at the bottom -->
<script  src="/js/boot.js" ></script>


  

  <noscript>
    <div class="noscript-warning">Blog works best with JavaScript enabled</div>
  </noscript>
</body>
</html>
